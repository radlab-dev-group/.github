<section id="lb-strategies" class="tech-section">
    <div class="container">
        <h2 class="section-title">Load Balancing Strategies</h2>
        <p class="section-subtitle">Pluggable provider selection algorithms</p>

        <div class="strategy-grid">
            <div class="strategy-card">
                <h4>balanced</h4>
                <p>Simple round-robin based on usage counters. Each provider receives approximately equal traffic.</p>
            </div>
            <div class="strategy-card">
                <h4>weighted</h4>
                <p>Static weights defined in provider configuration (<code>weight</code> field). Higher weight = more
                    traffic.</p>
            </div>
            <div class="strategy-card">
                <h4>dynamic_weighted</h4>
                <p>Weights updated at runtime based on latency and failure penalties. Adapts to provider
                    performance.</p>
            </div>
            <div class="strategy-card">
                <h4>first_available</h4>
                <p>Uses Redis locks to guarantee exclusive access. Useful for stateful backends with session
                    affinity.</p>
            </div>
        </div>

        <div class="key-feature-box" style="margin-top: 2rem;">
            <h3>Adding Custom Strategies</h3>
            <ul>
                <li>Subclass <code>ChooseProviderStrategyI</code> from <code>llm_router_api.base.lb.strategy</code></li>
                <li>Implement <code>get_provider(model_name, provider_list, options)</code> method</li>
                <li>Register in <code>STRATEGIES</code> dict in <code>llm_router_api.base.lb.chooser</code></li>
                <li>Set <code>LLM_ROUTER_BALANCE_STRATEGY</code> to your strategy name</li>
            </ul>
        </div>

        <div class="code-block" data-lang="python">
<pre><code># Example: Custom strategy implementation
from llm_router_api.base.lb.strategy import ChooseProviderStrategyI

class MyCustomStrategy(ChooseProviderStrategyI):
    def get_provider(self, model_name, provider_list, options=None):
        # Your selection logic here
        return provider_list[0]  # Example: always first

# Register in chooser.py
STRATEGIES["my_custom"] = MyCustomStrategy</code></pre>
        </div>
    </div>
</section>