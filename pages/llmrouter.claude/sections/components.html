<section class="section-light">
    <div class="container">
        <h2>Główne Komponenty Ekosystemu</h2>
        <div class="graphic-container">
            <svg viewBox="0 0 500 160" role="img"
                 aria-label="Architektura komponentów"
                 xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
                <title>Architektura komponentów</title>
                <!-- Core system architecture -->
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10"
                            refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#88c0ff"/>
                    </marker>
                </defs>

                <!-- API Component -->
                <g transform="translate(30, 30)">
                    <rect x="0" y="0" width="80" height="50" rx="6"
                          fill="rgba(126,161,255,0.22)" stroke="#7ea1ff"
                          stroke-width="2"/>
                    <text x="40" y="18" text-anchor="middle"
                          font-size="12" font-weight="bold">llm_router
                    </text>
                    <text x="40" y="32" text-anchor="middle"
                          font-size="10" style="fill:#cfe3ff !important;">REST API
                    </text>
                </g>

                <!-- Lib Component -->
                <g transform="translate(140, 30)">
                    <rect x="0" y="0" width="80" height="50" rx="6"
                          fill="rgba(160,123,230,0.22)" stroke="#a07be6"
                          stroke-width="2"/>
                    <text x="40" y="18" text-anchor="middle"
                          font-size="12" font-weight="bold">llm_router
                    </text>
                    <text x="40" y="32" text-anchor="middle"
                          font-size="10" style="fill:#cfe3ff !important;">SDK Python
                    </text>
                </g>

                <!-- Web Component -->
                <g transform="translate(250, 30)">
                    <rect x="0" y="0" width="80" height="50" rx="6"
                          fill="rgba(126,161,255,0.22)" stroke="#7ea1ff"
                          stroke-width="2"/>
                    <text x="40" y="18" text-anchor="middle"
                          font-size="12" font-weight="bold">llm_router
                    </text>
                    <text x="40" y="32" text-anchor="middle"
                          font-size="10" style="fill:#cfe3ff !important;">Web UI
                    </text>
                </g>

                <!-- Plugin Component -->
                <g transform="translate(360, 30)">
                    <rect x="0" y="0" width="80" height="50" rx="6"
                          fill="rgba(160,123,230,0.22)" stroke="#a07be6"
                          stroke-width="2"/>
                    <text x="40" y="18" text-anchor="middle"
                          font-size="12" font-weight="bold">fast_masker
                    </text>
                    <text x="40" y="32" text-anchor="middle"
                          font-size="10" style="fill:#cfe3ff !important;">Plugin
                    </text>
                </g>

                <!-- Connection lines -->
                <line x1="110" y1="55" x2="140" y2="55"
                      stroke="#7ea1ff" stroke-width="1.7"
                      marker-end="url(#arrowhead)" opacity="0.7"/>
                <line x1="220" y1="55" x2="250" y2="55"
                      stroke="#7ea1ff" stroke-width="1.7"
                      marker-end="url(#arrowhead)" opacity="0.7"/>
                <line x1="330" y1="55" x2="360" y2="55"
                      stroke="#7ea1ff" stroke-width="1.7"
                      marker-end="url(#arrowhead)" opacity="0.7"/>

                <!-- Feature boxes -->
                <g transform="translate(30, 110)">
                    <rect x="0" y="0" width="95" height="40" rx="6"
                          fill="rgba(136,192,255,0.12)"
                          stroke="rgba(136,192,255,0.35)" stroke-width="1.2"/>
                    <text x="47" y="15" text-anchor="middle"
                          font-size="11" font-weight="bold">Unified REST
                    </text>
                    <text x="47" y="28" text-anchor="middle"
                          font-size="9" style="fill:#cfe3ff !important;">Load Balancing
                    </text>
                </g>

                <g transform="translate(145, 110)">
                    <rect x="0" y="0" width="95" height="40" rx="6"
                          fill="rgba(160,123,230,0.12)"
                          stroke="rgba(160,123,230,0.35)" stroke-width="1.2"/>
                    <text x="47" y="15" text-anchor="middle"
                          font-size="11" font-weight="bold">Typed Models
                    </text>
                    <text x="47" y="28" text-anchor="middle"
                          font-size="9" style="fill:#cfe3ff !important;">Auto Retries
                    </text>
                </g>

                <g transform="translate(260, 110)">
                    <rect x="0" y="0" width="95" height="40" rx="6"
                          fill="rgba(136,192,255,0.12)"
                          stroke="rgba(136,192,255,0.35)" stroke-width="1.2"/>
                    <text x="47" y="15" text-anchor="middle"
                          font-size="11" font-weight="bold">Config Manager
                    </text>
                    <text x="47" y="28" text-anchor="middle"
                          font-size="9" style="fill:#cfe3ff !important;">Anonymizer UI
                    </text>
                </g>

                <g transform="translate(375, 110)">
                    <rect x="0" y="0" width="95" height="40" rx="6"
                          fill="rgba(160,123,230,0.12)"
                          stroke="rgba(160,123,230,0.35)" stroke-width="1.2"/>
                    <text x="47" y="15" text-anchor="middle"
                          font-size="11" font-weight="bold">Rule Engine
                    </text>
                    <text x="47" y="28" text-anchor="middle"
                          font-size="9" style="fill:#cfe3ff !important;">Extensible
                    </text>
                </g>
            </svg>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <h3>llm_router_api</h3>
                <p><strong>Unified REST proxy</strong> routujący requesty do dowolnego
                    supportowanego backendu LLM (OpenAI‑compatible, Ollama, vLLM, LM Studio i innych).
                    Built‑in load‑balancing, health checks, streaming, Prometheus metrics.</p>
            </div>

            <div class="feature-card">
                <h3>llm_router_lib</h3>
                <p><strong>Python SDK</strong> wrappujący API z typed request/response models,
                    automatic retries, token handling i bogatą hierarchią wyjątków.
                    Focus na application logic zamiast raw HTTP calls.</p>
            </div>

            <div class="feature-card">
                <h3>llm_router_web</h3>
                <p><strong>Flask UIs</strong> ready‑to‑use: anonymizer UI do maskowania danych wrażliwych
                    oraz configuration manager dla model/user settings. Demonstracja konsumpcji routera z przeglądarki.
                </p>
            </div>

            <div class="feature-card">
                <h3>fast_masker Plugin</h3>
                <p><strong>Rule‑based anonymization engine</strong> z komprehensywnym zestawem reguł
                    dla języka polskiego. Extensible architecture dla custom rules i validators.
                    Recursive payload masking.</p>
            </div>
        </div>
    </div>
</section>